import{r as e,j as n}from"./vendor-react-BeulU70N.js";const t=()=>(e.useEffect(()=>{const e=["/services","/portfolio","/about","/contact"];[{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap",as:"style"},{href:"/images/hero-bg.webp",as:"image",type:"image/webp"},{href:"/images/team/hero-team.webp",as:"image",type:"image/webp"}].forEach(e=>{const n=document.createElement("link");n.rel="preload",n.href=e.href,n.as=e.as,e.type&&(n.type=e.type),"style"===e.as&&(n.onload=function(){this.rel="stylesheet"}),document.head.appendChild(n)}),["https://fonts.googleapis.com","https://fonts.gstatic.com","https://api.softdab.tech"].forEach(e=>{const n=document.createElement("link");n.rel="dns-prefetch",n.href=e,document.head.appendChild(n)});const n=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(e.forEach(e=>{const n=document.createElement("link");n.rel="prefetch",n.href=e,document.head.appendChild(n)}),n.disconnect())})}),t=document.querySelector("[data-hero]");return t&&n.observe(t),document.querySelectorAll("img[data-critical]").forEach(e=>{"eager"!==e.loading&&(e.loading="eager",e.fetchPriority="high")}),()=>{n.disconnect()}},[]),null),r=e.memo(()=>n.jsx("style",{dangerouslySetInnerHTML:{__html:"\n    /* Критический CSS для above-the-fold контента - FCP оптимизация */\n    * {\n      box-sizing: border-box;\n      margin: 0;\n      padding: 0;\n    }\n\n    html {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n      line-height: 1.5;\n      -webkit-text-size-adjust: 100%;\n    }\n\n    body {\n      margin: 0;\n      font-family: inherit;\n      background-color: #ffffff;\n      color: #1a1a1a;\n    }\n\n    /* Критические стили для header */\n    .header {\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      z-index: 50;\n      background-color: rgba(255, 255, 255, 0.95);\n      backdrop-filter: blur(8px);\n      border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n      height: 72px;\n    }\n\n    .header-container {\n      max-width: 1200px;\n      margin: 0 auto;\n      padding: 0 24px;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      height: 100%;\n    }\n\n    /* Критические стили для hero секции - LCP оптимизация */\n    .hero {\n      min-height: 100vh;\n      display: flex;\n      align-items: center;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      position: relative;\n      overflow: hidden;\n    }\n\n    .hero-container {\n      max-width: 1200px;\n      margin: 0 auto;\n      padding: 0 24px;\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      gap: 48px;\n      align-items: center;\n    }\n\n    .hero-content {\n      z-index: 2;\n    }\n\n    .hero-title {\n      font-size: clamp(2.5rem, 5vw, 4rem);\n      font-weight: 700;\n      line-height: 1.1;\n      color: #ffffff;\n      margin-bottom: 24px;\n    }\n\n    .hero-description {\n      font-size: 1.25rem;\n      color: rgba(255, 255, 255, 0.9);\n      margin-bottom: 32px;\n      line-height: 1.6;\n    }\n\n    /* Критические стили для кнопок CTA */\n    .cta-button {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      padding: 16px 32px;\n      background-color: #ffffff;\n      color: #667eea;\n      border-radius: 8px;\n      font-weight: 600;\n      font-size: 1.1rem;\n      text-decoration: none;\n      transition: transform 0.2s ease, box-shadow 0.2s ease;\n      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n    }\n\n    .cta-button:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);\n    }\n\n    /* Критическая оптимизация для изображений - LCP */\n    .hero-image {\n      width: 100%;\n      height: auto;\n      border-radius: 12px;\n      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);\n    }\n\n    /* Критические media queries для мобильных */\n    @media (max-width: 768px) {\n      .hero-container {\n        grid-template-columns: 1fr;\n        text-align: center;\n        gap: 32px;\n        padding-top: 100px;\n      }\n\n      .hero-title {\n        font-size: clamp(2rem, 8vw, 3rem);\n      }\n\n      .hero-description {\n        font-size: 1.1rem;\n      }\n\n      .header-container {\n        padding: 0 16px;\n      }\n    }\n\n    /* Критическая оптимизация загрузки шрифтов */\n    @font-face {\n      font-family: 'Inter';\n      font-style: normal;\n      font-weight: 400;\n      font-display: swap;\n      src: url('https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZ9hiJ-Ek-_EeA.woff2') format('woff2');\n    }\n\n    @font-face {\n      font-family: 'Inter';\n      font-style: normal;\n      font-weight: 600;\n      font-display: swap;\n      src: url('https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuI6fAZ9hiJ-Ek-_EeA.woff2') format('woff2');\n    }\n\n    /* Критическая анимация загрузки */\n    .loading {\n      display: inline-block;\n      width: 20px;\n      height: 20px;\n      border: 2px solid rgba(255, 255, 255, 0.3);\n      border-radius: 50%;\n      border-top-color: #ffffff;\n      animation: spin 1s ease-in-out infinite;\n    }\n\n    @keyframes spin {\n      to { transform: rotate(360deg); }\n    }\n\n    /* Скрываем некритический контент до полной загрузки */\n    .below-fold {\n      opacity: 0;\n      animation: fadeIn 0.5s ease-in-out 0.5s forwards;\n    }\n\n    @keyframes fadeIn {\n      to { opacity: 1; }\n    }\n  "},"data-critical-css":"true"}));r.displayName="CriticalCSS";const o=()=>(e.useEffect(()=>{[{href:"/images/hero-main.webp",as:"image",type:"image/webp",media:"(min-width: 768px)",priority:"high"},{href:"/images/hero-mobile.webp",as:"image",type:"image/webp",media:"(max-width: 767px)",priority:"high"},{href:"/assets/vendor.js",as:"script",priority:"high"},{href:"/assets/index.js",as:"script",priority:"high"}].forEach(e=>{if(!document.querySelector(`link[href="${e.href}"]`)){const n=document.createElement("link");n.rel="preload",n.href=e.href,n.as=e.as,e.type&&(n.type=e.type),e.media&&(n.media=e.media),e.priority&&(n.fetchPriority=e.priority),"image"===e.as&&n.setAttribute("data-lcp-critical","true"),document.head.appendChild(n)}}),["https://fonts.googleapis.com","https://fonts.gstatic.com","https://api.posthog.com","https://us-assets.i.posthog.com"].forEach(e=>{if(!document.querySelector(`link[href="${e}"][rel="dns-prefetch"]`)){const n=document.createElement("link");n.rel="dns-prefetch",n.href=e,document.head.appendChild(n)}});const e=()=>{const e=document.querySelectorAll("img"),n=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target;e.intersectionRatio>.1&&(t.loading="eager",t.fetchPriority="high",t.setAttribute("data-lcp-candidate","true")),n.unobserve(t)}})},{rootMargin:"50px",threshold:[.1]});e.forEach(e=>n.observe(e))};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),"PerformanceObserver"in window&&new PerformanceObserver(e=>{for(const n of e.getEntries())"largest-contentful-paint"===n.entryType&&n.startTime}).observe({entryTypes:["largest-contentful-paint"]})},[]),null),a=()=>{e.useEffect(()=>{navigator.serviceWorker&&n()},[]);const n=async()=>{try{const e=await navigator.serviceWorker.register("/sw.js",{scope:"/"});e.addEventListener("updatefound",()=>{const n=e.installing;n.addEventListener("statechange",()=>{"installed"===n.state&&(navigator.serviceWorker&&navigator.serviceWorker.controller?r():t())})}),navigator.serviceWorker.addEventListener("message",e=>{e.data.type}),e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"})}catch(e){}},t=()=>{if(navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller){const e=new MessageChannel;e.port1.onmessage=e=>{e.data.type},navigator.serviceWorker.controller.postMessage({type:"GET_CACHE_STATUS"},[e.port2])}},r=()=>{window.confirm("Доступна новая версия приложения. Обновить?")&&window.location.reload()};return e.useEffect(()=>{const e=()=>{navigator.serviceWorker&&navigator.serviceWorker.controller&&setTimeout(t,1e3)};if("complete"!==document.readyState)return window.addEventListener("load",e),()=>window.removeEventListener("load",e);e()},[]),null};export{r as C,o as E,a as S,t as a};
