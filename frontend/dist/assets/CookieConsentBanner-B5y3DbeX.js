import{r as e,j as s,B as a}from"./vendor-react-BeulU70N.js";import{B as t}from"./critical-sections-DNTCuqBJ.js";import{C as n,d as r}from"./page-CaseStudiesPage-Cx_eF144.js";import"./forms-DsxBMDVD.js";const c="softdab_cookie_consent_v1",i={necessary:!0,analytics:!1,functional:!1,marketing:!1},o=()=>{const[o,l]=e.useState(!1),[d,m]=e.useState(i),[x,h]=e.useState(!1),u=e.useCallback(e=>{e?.analytics?window.dispatchEvent(new CustomEvent("softdab:analytics-consent-granted")):window.dispatchEvent(new CustomEvent("softdab:analytics-consent-revoked")),e?.marketing?window.dispatchEvent(new CustomEvent("softdab:marketing-consent-granted")):window.dispatchEvent(new CustomEvent("softdab:marketing-consent-revoked"))},[]),g=e.useCallback(e=>{try{localStorage.setItem(c,JSON.stringify(e))}catch{}u(e)},[u]);e.useEffect(()=>{try{const e=localStorage.getItem(c);if(e){const s=JSON.parse(e);m({...i,...s}),u({...i,...s}),l(!1)}else m(i),l(!0)}catch{m(i),l(!0)}},[u]),e.useEffect(()=>{const e=e=>{l(!0),e?.detail?.openCustomize&&h(!0)};return window.addEventListener("softdab:open-cookie-banner",e),()=>window.removeEventListener("softdab:open-cookie-banner",e)},[]);const p=e.useCallback(()=>{const e={necessary:!0,analytics:!0,functional:!0,marketing:!0};m(e),g(e),l(!1)},[g]),y=e.useCallback(()=>{const e={necessary:!0,analytics:!1,functional:!1,marketing:!1};m(e),g(e),l(!1)},[g]),b=e.useCallback(()=>{g(d),l(!1)},[d,g]);return o?s.jsx("div",{className:"fixed inset-x-0 bottom-0 z-[100] px-4 pb-4 sm:px-6 sm:pb-6",role:"dialog","aria-modal":"true","aria-label":"Cookie consent banner",children:s.jsx(n,{className:"max-w-4xl mx-auto shadow-2xl border border-gray-200 bg-white",tabIndex:-1,children:s.jsx(r,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"sm:flex sm:items-start sm:justify-between",children:[s.jsxs("div",{className:"sm:mr-6 flex-1",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ðŸª We use cookies"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["We use cookies to ensure the site works properly and, with your consent, for analytics and marketing. Learn more in our"," ",s.jsx(a,{to:"/legal/cookies",className:"text-primary underline font-medium",children:"Cookies Policy"}),"."]}),x&&s.jsxs("div",{className:"mt-4 space-y-3 text-sm border-t pt-4",children:[s.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Customize your preferences:"}),s.jsxs("label",{className:"flex items-start gap-3 cursor-not-allowed opacity-60",children:[s.jsx("input",{type:"checkbox",checked:!0,disabled:!0,readOnly:!0,className:"mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Necessary (always on)"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Required for site functionality and security."})]})]}),s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:d.analytics,onChange:e=>m(s=>({...s,analytics:e.target.checked})),className:"mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Analytics"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Help us understand how you use our site."})]})]}),s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:d.functional,onChange:e=>m(s=>({...s,functional:e.target.checked})),className:"mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Functional"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Remember your preferences (language, region)."})]})]}),s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:d.marketing,onChange:e=>m(s=>({...s,marketing:e.target.checked})),className:"mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Marketing"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Personalized ads and conversion tracking."})]})]})]})]}),s.jsx("div",{className:"mt-4 sm:mt-0 flex-shrink-0 flex flex-col sm:flex-row gap-2",children:x?s.jsxs(s.Fragment,{children:[s.jsx(t,{variant:"outline",onClick:()=>h(!1),className:"whitespace-nowrap border-gray-400 text-gray-900 hover:bg-gray-100",children:"Back"}),s.jsx(t,{onClick:b,className:"whitespace-nowrap bg-primary hover:bg-primary/90 text-white",children:"Save Preferences"})]}):s.jsxs(s.Fragment,{children:[s.jsx(t,{variant:"outline",onClick:()=>h(!0),className:"whitespace-nowrap border-gray-400 text-gray-900 hover:bg-gray-100",children:"Customize"}),s.jsx(t,{variant:"outline",onClick:y,className:"whitespace-nowrap border-gray-400 text-gray-900 hover:bg-gray-100",children:"Reject All"}),s.jsx(t,{onClick:p,className:"whitespace-nowrap bg-primary hover:bg-primary/90 text-white",children:"Accept All"})]})})]})})})}):null};export{o as default};
